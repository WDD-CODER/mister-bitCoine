<div class="main-container">
    <ng-container *ngIf="user$ | async as user;">
        <article class="user-info simple-cards-grid">

            <h1 class="user-name ">Hello :
                <span>{{ user.name }}</span>
            </h1>
            <section class="balance">
                <div class="coins flex align-center">
                    <img src="assets/img/coins.png" alt="coins icon">
                    <span class="amount " *ngIf="user; else noUser"> Coins :{{user.coins}}</span>
                    <ng-template class="amount " #noUser> User Is Not Found</ng-template>
                </div>
                <div class="btc flex align-center" *ngIf="user">
                    <img src="assets/img/bitcoin.png" alt="bitcoin icon">
                    <ng-container *ngIf="btcRate$ | async as btcRate; else loading">
                        <span class="amount ">BTC : {{btcRate}}</span>
                    </ng-container>
                    <ng-template #loading>
                        <p>loading BTC value</p>
                    </ng-template>
                </div>
            </section>
        </article>

        <section class="transfers" *ngIf="userMoves$">
            <article  *ngFor="let move of userMoves$ | async; let idx = index" class="transfer">
                <h4>Sent To : <span>{{move.to}} </span></h4>
                <section class="details" >
                    <div>Send At: <span>{{move.at | date : 'dd/MM/yyyy'}} </span></div>
                    <div>Amount : <span>{{move.amount}} </span></div>
                </section>
            </article>
        </section>

        <!-- <span>Costume date : {{date | dateDescription}}</span>
<br>
<span>Fetch data : {{url | fetchData | json}}</span> -->

        <!-- <ng-container *ngIf="contacts?.length && contacts">
    <simple-list   [contacts]="contacts | filterArr : 'name' : 'c' "/>
</ng-container> -->

        <!-- <button (click)="onChangeName()">Change name</button> -->
    <router-outlet/>

        <section class="actions">
            <button (click)="onAddCoins($event)">Add Coins</button>
            <button (click)="makeTransaction($event)">Make transaction</button>
            <button (click)="onLogout($event)">Logout</button>
        </section>
    </ng-container>
</div>